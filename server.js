const express = require('express');
const cors = require('cors');
const path = require('path');

const app = express();
const PORT = 3000;

app.use(express.json());
app.use(cors());
app.use(express.static(path.join(__dirname, 'public'))); // ØªÙˆÙÙŠØ± Ù…Ù„ÙØ§Øª HTML, CSS, JS

// âœ… Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
app.get('/', (req, res) => {
    res.sendFile(path.join(__dirname, 'public', 'index.html')); 
});

// âœ… Ù†Ù‚Ø·Ø© Ù†Ù‡Ø§ÙŠØ© Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
app.post('/api/update-data', (req, res) => {
    const receivedData = req.body;
    console.log("ðŸ“¥ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³ØªÙ„Ù…Ø©:", receivedData);

    res.json({
        message: "âœ… ØªÙ… Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­",
        status: "success"
    });
});

// âœ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…
app.listen(PORT, () => {
    console.log(`ðŸš€ Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰: http://localhost:${PORT}`);
});
